@model IEnumerable<ExerciseStatisticsViewModel>
@{
    ViewData["Title"] = "Statystyki treningowe";
}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-0"><i class="bi bi-graph-up"></i> Statystyki treningowe</h2>
            <p class="text-muted mb-0">Statystyki z ostatnich 4 tygodni</p>
        </div>
    </div>

    @if (!Model.Any())
    {
        <div class="alert alert-info text-center">
            <i class="bi bi-info-circle"></i> Brak danych treningowych z ostatnich 4 tygodni. Rozpocznij treningi, aby zobaczyć statystyki!
        </div>
    }
    else
    {
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-table"></i> Statystyki ćwiczeń</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th><i class="bi bi-barbell"></i> Nazwa ćwiczenia</th>
                                <th class="text-center"><i class="bi bi-123"></i> Liczba wykonanych treningów</th>
                                <th class="text-center"><i class="bi bi-arrow-repeat"></i> Łączna liczba powtórzeń</th>
                                <th class="text-center"><i class="bi bi-speedometer2"></i> Średnie obciążenie (kg)</th>
                                <th class="text-center"><i class="bi bi-trophy"></i> Maksymalne obciążenie (kg)</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var stat in Model)
                            {
                                <tr>
                                    <td>
                                        <strong>@stat.ExerciseName</strong>
                                    </td>
                                    <td class="text-center">
                                        <span class="badge bg-primary">@stat.TimesPerformed</span>
                                    </td>
                                    <td class="text-center">
                                        <strong>@stat.TotalRepetitions</strong>
                                    </td>
                                    <td class="text-center">
                                        @stat.AverageWeight.ToString("F2")
                                    </td>
                                    <td class="text-center">
                                        <span class="badge bg-success">@stat.MaxWeight.ToString("F2")</span>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-4">
                <div class="card text-center border-primary">
                    <div class="card-body">
                        <h3 class="text-primary">@Model.Sum(s => s.TimesPerformed)</h3>
                        <p class="text-muted mb-0">Łączna liczba treningów</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center border-success">
                    <div class="card-body">
                        <h3 class="text-success">@Model.Sum(s => s.TotalRepetitions)</h3>
                        <p class="text-muted mb-0">Łączna liczba powtórzeń</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center border-warning">
                    <div class="card-body">
                        <h3 class="text-warning">@Model.Count()</h3>
                        <p class="text-muted mb-0">Różnych ćwiczeń</p>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

